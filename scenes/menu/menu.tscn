[gd_scene load_steps=9 format=2]

[ext_resource path="res://assets/Basic_GUI_Bundle/ButtonsIcons/IconButton_Large_Blue_Circle.png" type="Texture" id=1]
[ext_resource path="res://assets/Basic_GUI_Bundle/ButtonsIcons/IconButton_Large_Green_Circle.png" type="Texture" id=2]
[ext_resource path="res://assets/Basic_GUI_Bundle/ButtonsIcons/IconButton_Large_Orange_Circle.png" type="Texture" id=3]
[ext_resource path="res://assets/Basic_GUI_Bundle/ButtonsText/ButtonText_Small_Blue_Square.png" type="Texture" id=4]

[sub_resource type="GDScript" id=1]
script/source = "extends Node

var current_index = 0
var total = 3
var width = 358
var sc: ScrollContainer 

var lastKeyPressTime: float = 0
var doublePressThreshold: float = 0.3

func _ready():
	sc = get_child(0)
	sc.get_h_scrollbar().rect_scale.x = 0
	$InputTimer.connect(\"timeout\", self, \"_single_press\")


func _on_TextureButton_pressed():
	pass

func _process(delta):
	pass

func _input(event):
	if (event is InputEventScreenTouch or event is InputEvent) and event.is_pressed():
		var currentTime = OS.get_ticks_msec() / 1000.0

		# Check for a double press
		if currentTime - lastKeyPressTime < doublePressThreshold:
			$InputTimer.stop()
			print(\"Double press!\")
		else:
			$InputTimer.start(doublePressThreshold)

		# Update the last key press time
		lastKeyPressTime = currentTime
		
		
func _single_press():
	print(\"Single press!\")
	current_index += 1
#	sc.ensure_control_visible(hbc.get_child(current_index))

	var tween := create_tween().set_trans(Tween.TRANS_QUINT).set_ease(Tween.EASE_IN)
	var value
	if current_index == total:
		current_index = 0
		value = 0
	else:
		value = sc.scroll_horizontal + width
		
		
	tween.tween_property(sc, \"scroll_horizontal\", value, 1.0)
"

[sub_resource type="StyleBoxEmpty" id=2]

[sub_resource type="InputEventAction" id=3]
action = "ui_accept"

[sub_resource type="ShortCut" id=4]
shortcut = SubResource( 3 )

[node name="menu" type="Node"]
script = SubResource( 1 )

[node name="ScrollContainer" type="ScrollContainer" parent="."]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -85.0
margin_top = -393.0
margin_right = 272.0
margin_bottom = -24.0
rect_scale = Vector2( 0.5, 0.5 )
custom_styles/bg = SubResource( 2 )
scroll_vertical_enabled = false
__meta__ = {
"_edit_group_": true
}

[node name="HBoxContainer" type="HBoxContainer" parent="ScrollContainer"]
unique_name_in_owner = true
margin_right = 1076.0
margin_bottom = 357.0

[node name="TextureButton6" type="TextureButton" parent="ScrollContainer/HBoxContainer"]
margin_right = 356.0
margin_bottom = 357.0
texture_normal = ExtResource( 2 )

[node name="TextureButton" type="TextureButton" parent="ScrollContainer/HBoxContainer"]
margin_left = 360.0
margin_right = 716.0
margin_bottom = 357.0
texture_normal = ExtResource( 1 )

[node name="TextureButton2" type="TextureButton" parent="ScrollContainer/HBoxContainer"]
margin_left = 720.0
margin_right = 1076.0
margin_bottom = 357.0
texture_normal = ExtResource( 3 )

[node name="TextureButton" type="TextureButton" parent="."]
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_top = -100.0
shortcut = SubResource( 4 )
texture_normal = ExtResource( 4 )
expand = true

[node name="InputTimer" type="Timer" parent="."]
unique_name_in_owner = true
one_shot = true

[connection signal="pressed" from="TextureButton" to="." method="_on_TextureButton_pressed"]
